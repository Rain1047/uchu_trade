# 🚀 交易规则提取系统 - 快速开始

## 💡 核心理念

这个系统的设计理念是**在对话框中完成整个交易规则提取过程**。你不需要复杂的配置，只需要：

1. 📚 准备你的交易书籍PDF
2. 💬 通过对话与AI助手分析内容
3. ⚙️ 自动生成可执行的策略代码

## 🎯 立即开始

### 第一步：准备PDF文件

```bash
# 将你的交易书籍PDF放入这个目录
cp "你的交易书籍.pdf" raw_books/
```

**文件命名规范**：`{书名}_{作者}_{类型}.pdf`
- 类型：`long_term`（长期）、`medium_term`（中期）、`short_term`（短期）

### 第二步：生成对话提示

```bash
# 生成标准化的对话提示
python extract_trading_rules.py --mode prompt
```

这会给你一套完整的对话模板，你可以直接复制到任何AI对话界面中使用。

### 第三步：在对话中分析

将生成的提示复制到你喜欢的AI助手对话框中，然后：

1. **粘贴你的文本内容**
2. **逐步深入分析**
3. **提取具体规则**
4. **优化参数设置**

## 📝 对话示例

### 开始对话

```
我有一段交易书籍的文本，想要提取其中的交易规则。请帮我分析这段文本：

```
当价格突破20日移动平均线，且RSI指标大于50时，这通常是一个买入信号。
但我们还需要确认成交量是否放大，以及整体市场趋势是否向上。
止损应该设置在突破点下方3%的位置，止盈目标可以设定为10%。
```

请先告诉我这段文本主要讨论的是什么交易策略或方法？
```

### AI助手会回复

```
这段文本描述的是一个**多重确认的突破策略**，主要特点：

1. **主要信号**：价格突破20日均线
2. **确认条件**：RSI > 50（避免在弱势中买入）
3. **成交量确认**：需要成交量配合
4. **趋势过滤**：整体市场趋势向上
5. **风险控制**：3%止损，10%止盈

这是一个相对保守的趋势跟踪策略，适合中期交易。
```

### 继续深入

```
很好！现在请帮我从这段文本中提取具体的交易规则，包括：

1. 入场条件：什么时候买入？
2. 出场条件：什么时候卖出？
3. 风险控制：如何设置止损？
4. 资金管理：如何控制仓位？

请尽可能详细和具体。
```

## 🔧 高级用法

### 自动化处理（可选）

如果你有很多PDF需要批量处理：

```bash
# 完整自动化流程
python extract_trading_rules.py --mode full --ai

# 分步处理
python extract_trading_rules.py --mode pdf      # 提取PDF文本
python extract_trading_rules.py --mode rules --ai  # AI分析规则
python extract_trading_rules.py --mode strategies  # 生成策略代码
```

### 查看演示

```bash
# 运行完整演示，了解系统能力
python example_usage.py
```

## 💬 对话技巧

### 1. 逐步细化

```
第一轮：整体理解策略类型
第二轮：提取具体规则
第三轮：识别参数设置
第四轮：优化和验证
```

### 2. 多角度验证

```
"基于这个规则，如果遇到以下情况会怎么处理：
1. 突破后立即回调
2. 成交量很小的突破
3. 大盘下跌但个股突破"
```

### 3. 参数优化

```
"这个策略中的参数设置是否合理：
- 20日均线是否太长？
- 3%止损是否太紧？
- RSI>50的条件是否太宽松？"
```

## 📊 输出结果

### 对话分析结果

通过对话，你会得到：

```json
{
  "strategy_name": "多重确认突破策略",
  "entry_rules": [
    {
      "name": "均线突破买入",
      "conditions": ["价格突破20日均线", "RSI > 50", "成交量放大"],
      "parameters": {"ma_period": 20, "rsi_threshold": 50}
    }
  ],
  "exit_rules": [
    {
      "name": "止损出场",
      "conditions": ["价格跌破入场价3%"],
      "parameters": {"stop_loss_percent": 3}
    }
  ],
  "confidence": 0.85
}
```

### 自动生成的策略代码

```python
class StrategyMultiConfirmBreakout:
    def check_entry_conditions(self, df, current_index):
        current_row = df.iloc[current_index]
        
        # 均线突破
        if current_row['close'] > current_row['ma20']:
            # RSI确认
            if current_row.get('rsi', 50) > 50:
                # 成交量确认
                if current_row['volume'] > df.iloc[current_index-1]['volume'] * 1.2:
                    return {"signal": "buy", "price": current_row['close']}
        
        return {"signal": "no_action"}
```

## 🎯 实际应用场景

### 场景1：分析经典书籍

```
我想分析《海龟交易法则》中的策略...
```

### 场景2：优化现有策略

```
我有一个RSI策略，但在强势市场中表现不好，请帮我优化...
```

### 场景3：组合多个策略

```
我想把趋势跟踪和均值回归策略结合起来...
```

## ⚡ 快速提示

### 最有效的对话方式

1. **提供具体文本**：不要只说"分析这本书"，而要提供具体段落
2. **明确你的目标**：是要入场规则、出场规则，还是风险管理？
3. **逐步深入**：从理解策略开始，逐步到具体参数
4. **多轮验证**：用不同场景测试规则的有效性

### 常用对话模板

```
# 初始分析
"请分析这段交易策略文本的核心思想..."

# 规则提取
"请提取其中的具体交易规则，包括入场、出场和风险控制..."

# 参数识别
"请识别这些规则中的关键参数..."

# 优化建议
"基于现代市场环境，这些规则需要如何调整？"

# 代码实现
"请将这些规则转换为程序化交易的逻辑..."
```

## 🚀 开始你的第一次分析

1. **复制一段交易书籍的文本**
2. **运行** `python extract_trading_rules.py --mode prompt`
3. **将生成的提示和你的文本一起发送给AI助手**
4. **开始你的交易规则提取之旅！**

---

**记住**：最好的交易规则不是一次性提取的，而是通过持续的对话、验证和优化得到的。这个系统就是为了支持这种迭代式的分析过程而设计的。 